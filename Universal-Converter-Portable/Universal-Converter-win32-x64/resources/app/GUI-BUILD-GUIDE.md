# è¬ç”¨è½‰æª”å·¥å…· - GUI ç‰ˆæœ¬å»ºç½®æŒ‡å—

## ğŸ“¦ å¿«é€Ÿé–‹å§‹

### 1. æº–å‚™ç’°å¢ƒ
```bash
# åŸ·è¡Œæº–å‚™è…³æœ¬ï¼Œè‡ªå‹•æª¢æŸ¥ä¸¦å®‰è£æ‰€éœ€å…ƒä»¶
prepare-build.bat
```

### 2. æ¸¬è©¦æ¡Œé¢æ‡‰ç”¨ç¨‹å¼
```bash
# æ¸¬è©¦ Electron GUI ç‰ˆæœ¬
test-electron.bat

# æˆ–ä½¿ç”¨ npm å‘½ä»¤
npm run electron
```

### 3. å»ºç«‹å¯æ”œå¸¶ç‰ˆæœ¬
```bash
# å»ºç«‹å–®ä¸€å¯åŸ·è¡Œæª”ï¼ˆç„¡éœ€å®‰è£ï¼‰
build-portable.bat

# æˆ–ä½¿ç”¨ npm å‘½ä»¤
npm run build-portable
```

### 4. å»ºç«‹å®Œæ•´ç™¼å¸ƒç‰ˆæœ¬
```bash
# å»ºç«‹å®‰è£ç¨‹å¼ + å¯æ”œå¸¶ç‰ˆ
build-all.bat

# æˆ–ä½¿ç”¨ npm å‘½ä»¤
npm run dist
```

## ğŸ¯ ç‰ˆæœ¬èªªæ˜

### å¯æ”œå¸¶ç‰ˆæœ¬ï¼ˆPortableï¼‰
- **æª”æ¡ˆåç¨±**: `è¬ç”¨è½‰æª”å·¥å…·-portable.exe`
- **æª”æ¡ˆå¤§å°**: ç´„ 150-200 MB
- **ç‰¹é»**:
  - å–®ä¸€åŸ·è¡Œæª”ï¼Œç„¡éœ€å®‰è£
  - åŒ…å«æ‰€æœ‰å¿…è¦å…ƒä»¶ï¼ˆå« FFmpegï¼‰
  - å¯æ”¾åœ¨éš¨èº«ç¢Ÿä¸­ä½¿ç”¨
  - é©åˆè‡¨æ™‚ä½¿ç”¨æˆ–åˆ†äº«çµ¦ä»–äºº

### å®‰è£ç¨‹å¼ç‰ˆæœ¬ï¼ˆSetupï¼‰
- **æª”æ¡ˆåç¨±**: `è¬ç”¨è½‰æª”å·¥å…· Setup x.x.x.exe`
- **æª”æ¡ˆå¤§å°**: ç´„ 100-150 MB
- **ç‰¹é»**:
  - æ¨™æº– Windows å®‰è£ç¨‹å¼
  - å»ºç«‹é–‹å§‹é¸å–®å’Œæ¡Œé¢æ·å¾‘
  - å¯é¸æ“‡å®‰è£ä½ç½®
  - é©åˆé•·æœŸä½¿ç”¨

## ğŸ“‚ æª”æ¡ˆçµæ§‹

```
universal-converter/
â”œâ”€â”€ dist/                    # è¼¸å‡ºç›®éŒ„ï¼ˆæ‰“åŒ…å¾Œçš„æª”æ¡ˆï¼‰
â”‚   â”œâ”€â”€ è¬ç”¨è½‰æª”å·¥å…·-portable.exe
â”‚   â””â”€â”€ è¬ç”¨è½‰æª”å·¥å…· Setup 1.0.0.exe
â”œâ”€â”€ electron-main.js         # Electron ä¸»ç¨‹åº
â”œâ”€â”€ electron-preload.js      # é è¼‰è…³æœ¬
â”œâ”€â”€ server.js               # å¾Œç«¯ä¼ºæœå™¨
â”œâ”€â”€ public/                 # å‰ç«¯è³‡æº
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ icon.png/ico
â”œâ”€â”€ src/                    # è½‰æ›å™¨æ ¸å¿ƒ
â”‚   â””â”€â”€ converters/
â””â”€â”€ package.json           # å°ˆæ¡ˆé…ç½®
```

## ğŸš€ éƒ¨ç½²åˆ°å…¶ä»–é›»è…¦

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¯æ”œå¸¶ç‰ˆæœ¬ï¼ˆæ¨è–¦ï¼‰
1. åŸ·è¡Œ `build-portable.bat` å»ºç«‹å¯æ”œå¸¶ç‰ˆæœ¬
2. åœ¨ `dist` è³‡æ–™å¤¾æ‰¾åˆ° `è¬ç”¨è½‰æª”å·¥å…·-portable.exe`
3. å°‡æ­¤æª”æ¡ˆè¤‡è£½åˆ°ç›®æ¨™é›»è…¦
4. ç›´æ¥åŸ·è¡Œå³å¯ä½¿ç”¨

**å„ªé»**:
- æœ€ç°¡å–®çš„éƒ¨ç½²æ–¹å¼
- ä¸éœ€è¦ä»»ä½•ä¾è³´é …
- åŒ…å« FFmpegï¼Œæ”¯æ´å®Œæ•´åŠŸèƒ½

### æ–¹æ³•äºŒï¼šä½¿ç”¨å®‰è£ç¨‹å¼
1. åŸ·è¡Œ `build-all.bat` å»ºç«‹å®‰è£ç¨‹å¼
2. å°‡ `è¬ç”¨è½‰æª”å·¥å…· Setup x.x.x.exe` è¤‡è£½åˆ°ç›®æ¨™é›»è…¦
3. åŸ·è¡Œå®‰è£ç¨‹å¼
4. å¾é–‹å§‹é¸å–®æˆ–æ¡Œé¢æ·å¾‘å•Ÿå‹•

### æ–¹æ³•ä¸‰ï¼šè¤‡è£½æ•´å€‹å°ˆæ¡ˆï¼ˆé–‹ç™¼ç”¨ï¼‰
1. è¤‡è£½æ•´å€‹ `universal-converter` è³‡æ–™å¤¾
2. åœ¨ç›®æ¨™é›»è…¦å®‰è£ Node.js
3. åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
npm install
npm run electron
```

## âš™ï¸ è‡ªè¨‚é…ç½®

### ä¿®æ”¹æ‡‰ç”¨ç¨‹å¼è³‡è¨Š
ç·¨è¼¯ `package.json`:
```json
{
  "name": "your-app-name",
  "version": "2.0.0",
  "description": "æ‚¨çš„æè¿°"
}
```

### ä¿®æ”¹æ‰“åŒ…é…ç½®
ç·¨è¼¯ `electron-builder.yml`:
```yaml
productName: æ‚¨çš„ç”¢å“åç¨±
appId: com.yourcompany.yourapp
```

### è‡ªè¨‚åœ–æ¨™
1. æº–å‚™ 256x256 çš„ PNG åœ–ç‰‡
2. æ”¾ç½®åˆ° `public/icon.png`
3. åŸ·è¡Œ `node generate-icons.js` ç”Ÿæˆå„ç¨®å°ºå¯¸

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å•é¡Œï¼šæ‰“åŒ…å¤±æ•—
**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æ¸…ç†ä¸¦é‡æ–°å®‰è£
rm -rf node_modules
npm install
npm install electron@28.0.0 --save-dev
npm install electron-builder@24.9.1 --save-dev
```

### å•é¡Œï¼šFFmpeg æœªåŒ…å«åœ¨æ‰“åŒ…æª”æ¡ˆä¸­
**è§£æ±ºæ–¹æ¡ˆ**:
1. ç¢ºèª FFmpeg å®‰è£åœ¨ `C:\ffmpeg`
2. æª¢æŸ¥ `package.json` çš„ `extraResources` è¨­å®š
3. æ‰‹å‹•è¤‡è£½ FFmpeg åˆ° `dist/win-unpacked/resources/ffmpeg`

### å•é¡Œï¼šæ‡‰ç”¨ç¨‹å¼ç„¡æ³•åœ¨å…¶ä»–é›»è…¦åŸ·è¡Œ
**å¯èƒ½åŸå› **:
- ç¼ºå°‘ Visual C++ Redistributable
- Windows ç‰ˆæœ¬å¤ªèˆŠï¼ˆéœ€è¦ Windows 10 æˆ–ä»¥ä¸Šï¼‰
- é˜²æ¯’è»Ÿé«”é˜»æ“‹

**è§£æ±ºæ–¹æ¡ˆ**:
- å®‰è£ [Visual C++ Redistributable](https://support.microsoft.com/en-us/help/2977003/)
- å°‡ç¨‹å¼åŠ å…¥é˜²æ¯’è»Ÿé«”ç™½åå–®

## ğŸ“‹ å‘½ä»¤åƒè€ƒ

| å‘½ä»¤ | èªªæ˜ |
|------|------|
| `npm run electron` | é–‹ç™¼æ¨¡å¼åŸ·è¡Œ |
| `npm run electron-dev` | é–‹ç™¼æ¨¡å¼ï¼ˆå«é™¤éŒ¯å·¥å…·ï¼‰ |
| `npm run build-win` | å»ºç«‹ Windows å®‰è£ç¨‹å¼ |
| `npm run build-portable` | å»ºç«‹å¯æ”œå¸¶ç‰ˆæœ¬ |
| `npm run pack` | æ‰“åŒ…ä½†ä¸å»ºç«‹å®‰è£ç¨‹å¼ |
| `npm run dist` | å»ºç«‹æ‰€æœ‰ç™¼å¸ƒç‰ˆæœ¬ |

## ğŸ“ æ³¨æ„äº‹é …

1. **æª”æ¡ˆå¤§å°**: æ‰“åŒ…å¾Œçš„æª”æ¡ˆè¼ƒå¤§ï¼ˆ150-200MBï¼‰ï¼Œå› ç‚ºåŒ…å«äº†ï¼š
   - Chromium ç€è¦½å™¨å¼•æ“
   - Node.js åŸ·è¡Œç’°å¢ƒ
   - FFmpeg å½±éŸ³è™•ç†å·¥å…·
   - æ‰€æœ‰ npm ä¾è³´é …

2. **é˜²æ¯’è»Ÿé«”**: æŸäº›é˜²æ¯’è»Ÿé«”å¯èƒ½æœƒèª¤å ±ï¼Œéœ€è¦ï¼š
   - æ·»åŠ åˆ°ç™½åå–®
   - æˆ–ä½¿ç”¨æ•¸ä½ç°½ç« ï¼ˆéœ€è¦è³¼è²·æ†‘è­‰ï¼‰

3. **ç³»çµ±éœ€æ±‚**:
   - Windows 10 æˆ–ä»¥ä¸Š
   - 64 ä½å…ƒç³»çµ±
   - è‡³å°‘ 4GB RAM
   - 500MB å¯ç”¨ç¡¬ç¢Ÿç©ºé–“

## ğŸ” é€²éšï¼šæ•¸ä½ç°½ç« ï¼ˆé¸ç”¨ï¼‰

å¦‚æœè¦ç™¼å¸ƒçµ¦æ›´å¤šç”¨æˆ¶ï¼Œå»ºè­°æ·»åŠ æ•¸ä½ç°½ç« ï¼š

1. è³¼è²·ä»£ç¢¼ç°½ç« æ†‘è­‰
2. åœ¨ `package.json` æ·»åŠ ç°½ç« é…ç½®ï¼š
```json
"build": {
  "win": {
    "certificateFile": "path/to/certificate.pfx",
    "certificatePassword": "password"
  }
}
```

## ğŸ“š ç›¸é—œè³‡æº

- [Electron å®˜æ–¹æ–‡æª”](https://www.electronjs.org/docs)
- [Electron Builder æ–‡æª”](https://www.electron.build/)
- [FFmpeg å®˜ç¶²](https://ffmpeg.org/)

## ğŸ’¡ æç¤º

- å»ºè­°ä½¿ç”¨å¯æ”œå¸¶ç‰ˆæœ¬é€²è¡Œåˆ†ç™¼ï¼Œæœ€ç‚ºç°¡å–®æ–¹ä¾¿
- é¦–æ¬¡æ‰“åŒ…å¯èƒ½éœ€è¦ä¸‹è¼‰ Electron äºŒé€²åˆ¶æª”æ¡ˆï¼Œè«‹è€å¿ƒç­‰å¾…
- æ‰“åŒ…å®Œæˆå¾Œï¼Œå»ºè­°åœ¨è™›æ“¬æ©Ÿæˆ–å…¶ä»–é›»è…¦æ¸¬è©¦
- å¯ä»¥ä½¿ç”¨ [NSIS](https://nsis.sourceforge.io/) è‡ªè¨‚å®‰è£ç¨‹å¼ç•Œé¢

---

å¦‚æœ‰å•é¡Œï¼Œè«‹æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯æˆ–è¯çµ¡é–‹ç™¼è€…ã€‚
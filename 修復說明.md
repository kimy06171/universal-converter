# 萬用轉檔工具 - 修復說明

## 已修復的問題

### 1. 黑屏問題修復 ✅
- **問題**：應用程式開啟後顯示黑色畫面
- **原因**：靜態檔案路徑處理錯誤
- **修復**：
  - 更新 `electron-standalone.js` 的檔案路徑處理
  - 正確指向 `public` 資料夾中的 HTML/CSS/JS 檔案

### 2. API 功能完善 ✅
- 加入完整的檔案轉換 API 處理
- 支援圖片、影片、音訊、文檔轉換
- 使用 formidable 處理檔案上傳
- 實現 base64 編碼的檔案下載

### 3. 打包位置更新 ✅
- 新的打包位置：`dist-final` 資料夾
- 避免與舊版本的檔案衝突

## 使用方式

### 方法一：快速執行（推薦）
直接執行批次檔：
```
RUN-FINAL.bat
```

### 方法二：手動執行
1. 進入資料夾：`dist-final\Universal-Converter-win32-x64\`
2. 執行：`Universal-Converter.exe`

### 方法三：網頁版本（備用）
如果桌面版本仍有問題，可使用網頁版：
```
RUN-WEB-VERSION.bat
```
然後開啟瀏覽器訪問 http://localhost:3000

## 測試功能

應用程式啟動後，可以測試：
1. 訪問 http://localhost:3456 查看主介面
2. 訪問 http://localhost:3456/test.html 查看測試頁面
3. 按 F12 開啟開發者工具檢查是否有錯誤

## 檔案結構

```
universal-converter/
├── dist-final/                    # 新的打包輸出資料夾
│   └── Universal-Converter-win32-x64/
│       └── Universal-Converter.exe
├── electron-standalone.js         # 修復後的 Electron 主程序
├── public/                        # 網頁檔案
│   ├── index.html
│   ├── styles.css
│   ├── script.js
│   └── test.html                  # 測試頁面
├── RUN-FINAL.bat                  # 快速執行批次檔
└── RUN-WEB-VERSION.bat           # 網頁版本執行檔
```

## 支援的轉換格式

### 圖片
- 輸入：jpg, jpeg, png, gif, bmp, webp, tiff, svg
- 輸出：jpg, png, webp, gif, bmp

### 影片
- 輸入：mp4, avi, mov, mkv, webm, flv
- 輸出：mp4, avi, mov, mkv, webm

### 音訊
- 輸入：mp3, wav, flac, aac, ogg, m4a
- 輸出：mp3, wav, flac, aac, ogg

### 文檔
- 輸入：pdf, docx, txt, rtf, xlsx, csv
- 輸出：pdf, txt, html

## 故障排除

如果還是看到黑屏：
1. 按 F12 開啟開發者工具
2. 檢查 Console 標籤是否有錯誤訊息
3. 檢查 Network 標籤是否有 404 錯誤
4. 嘗試手動訪問 http://localhost:3456/test.html
5. 使用網頁版本作為備用方案
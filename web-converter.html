<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¬ç”¨è½‰æª”å·¥å…· - ç¶²é ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 800px;
            width: 100%;
            padding: 40px;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background: none;
            color: #666;
            font-size: 16px;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }
        
        .tab:hover {
            color: #667eea;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            background: #f8f9ff;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            background: #f0f2ff;
            border-color: #764ba2;
        }
        
        .upload-area.dragover {
            background: #e8ebff;
            border-color: #764ba2;
        }
        
        .upload-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .file-input {
            display: none;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.3s;
            margin: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .options {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .option-group {
            margin-bottom: 15px;
        }
        
        .option-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }
        
        .option-group select,
        .option-group input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .result {
            background: #f0fff4;
            border: 1px solid #b7e2c0;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
        
        .result.show {
            display: block;
        }
        
        .result h3 {
            color: #22a754;
            margin-bottom: 10px;
        }
        
        .download-btn {
            background: #22a754;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 5px;
            display: inline-block;
            margin-top: 10px;
        }
        
        .download-btn:hover {
            background: #1e9348;
        }
        
        .progress {
            display: none;
            margin: 20px 0;
        }
        
        .progress.show {
            display: block;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #eee;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s;
        }
        
        .file-list {
            margin: 20px 0;
        }
        
        .file-item {
            background: #f8f9ff;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .remove-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
        }
        
        .info-box {
            background: #e8f4ff;
            border-left: 4px solid #0066cc;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .info-box h4 {
            color: #0066cc;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ è¬ç”¨è½‰æª”å·¥å…·</h1>
        <p class="subtitle">ç°¡å–®ã€å¿«é€Ÿã€å…å®‰è£çš„æª”æ¡ˆè½‰æ›</p>
        
        <div class="tabs">
            <button class="tab active" data-tab="image">ğŸ–¼ï¸ åœ–ç‰‡</button>
            <button class="tab" data-tab="pdf">ğŸ“„ PDF</button>
            <button class="tab" data-tab="video">ğŸ¬ å½±ç‰‡</button>
            <button class="tab" data-tab="audio">ğŸµ éŸ³è¨Š</button>
        </div>
        
        <!-- åœ–ç‰‡è½‰æ› -->
        <div class="tab-content active" id="image">
            <div class="upload-area" id="imageUploadArea">
                <div class="upload-icon">ğŸ–¼ï¸</div>
                <h3>æ‹–æ”¾åœ–ç‰‡åˆ°é€™è£¡</h3>
                <p>æˆ–</p>
                <button class="btn">é¸æ“‡åœ–ç‰‡</button>
                <input type="file" class="file-input" id="imageInput" accept="image/*" multiple>
                <p style="margin-top: 10px; color: #999;">æ”¯æ´ JPG, PNG, GIF, BMP, WebP</p>
            </div>
            
            <div class="file-list" id="imageFileList"></div>
            
            <div class="options" id="imageOptions" style="display: none;">
                <div class="option-group">
                    <label>è¼¸å‡ºæ ¼å¼ï¼š</label>
                    <select id="imageFormat">
                        <option value="jpeg">JPEG</option>
                        <option value="png">PNG</option>
                        <option value="webp">WebP</option>
                        <option value="gif">GIF</option>
                        <option value="bmp">BMP</option>
                    </select>
                </div>
                <div class="option-group">
                    <label>å“è³ª (1-100)ï¼š</label>
                    <input type="range" id="imageQuality" min="1" max="100" value="85">
                    <span id="qualityValue">85</span>
                </div>
                <div class="option-group">
                    <label>èª¿æ•´å¤§å°ï¼š</label>
                    <select id="imageResize">
                        <option value="original">åŸå§‹å¤§å°</option>
                        <option value="50">50%</option>
                        <option value="75">75%</option>
                        <option value="125">125%</option>
                        <option value="150">150%</option>
                        <option value="200">200%</option>
                        <option value="custom">è‡ªè¨‚</option>
                    </select>
                </div>
                <div class="option-group" id="customSize" style="display: none;">
                    <label>å¯¬åº¦ (px)ï¼š</label>
                    <input type="number" id="customWidth" placeholder="ç•™ç©ºä¿æŒæ¯”ä¾‹">
                    <label>é«˜åº¦ (px)ï¼š</label>
                    <input type="number" id="customHeight" placeholder="ç•™ç©ºä¿æŒæ¯”ä¾‹">
                </div>
                <button class="btn" id="convertImage">é–‹å§‹è½‰æ›</button>
            </div>
            
            <div class="progress" id="imageProgress">
                <div class="progress-bar">
                    <div class="progress-fill" id="imageProgressFill"></div>
                </div>
            </div>
            
            <div class="result" id="imageResult">
                <h3>âœ… è½‰æ›å®Œæˆï¼</h3>
                <div id="imageDownloads"></div>
            </div>
        </div>
        
        <!-- PDFè½‰æ› -->
        <div class="tab-content" id="pdf">
            <div class="upload-area" id="pdfUploadArea">
                <div class="upload-icon">ğŸ“„</div>
                <h3>æ‹–æ”¾æª”æ¡ˆåˆ°é€™è£¡</h3>
                <p>æˆ–</p>
                <button class="btn">é¸æ“‡æª”æ¡ˆ</button>
                <input type="file" class="file-input" id="pdfInput" accept=".pdf,image/*" multiple>
                <p style="margin-top: 10px; color: #999;">åœ–ç‰‡è½‰PDF æˆ– PDFè½‰åœ–ç‰‡</p>
            </div>
            
            <div class="file-list" id="pdfFileList"></div>
            
            <div class="options" id="pdfOptions" style="display: none;">
                <div class="option-group">
                    <label>è½‰æ›æ–¹å¼ï¼š</label>
                    <select id="pdfMode">
                        <option value="imageToPdf">åœ–ç‰‡è½‰PDF</option>
                        <option value="pdfToImage">PDFè½‰åœ–ç‰‡</option>
                        <option value="mergePdf">åˆä½µPDF</option>
                    </select>
                </div>
                <button class="btn" id="convertPdf">é–‹å§‹è½‰æ›</button>
            </div>
            
            <div class="result" id="pdfResult">
                <h3>âœ… è½‰æ›å®Œæˆï¼</h3>
                <div id="pdfDownloads"></div>
            </div>
        </div>
        
        <!-- å½±ç‰‡è½‰æ› -->
        <div class="tab-content" id="video">
            <div class="info-box">
                <h4>âš ï¸ ç€è¦½å™¨é™åˆ¶</h4>
                <p>ç”±æ–¼ç€è¦½å™¨å®‰å…¨é™åˆ¶ï¼Œå½±ç‰‡è½‰æ›åŠŸèƒ½éœ€è¦ä½¿ç”¨ä¼ºæœå™¨ç‰ˆæœ¬ã€‚</p>
                <p>æ‚¨å¯ä»¥ï¼š</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ä½¿ç”¨ç·šä¸Šè½‰æ›æœå‹™ï¼ˆå¦‚ CloudConvertã€Convertioï¼‰</li>
                    <li>ä¸‹è¼‰å°ˆæ¥­è»Ÿé«”ï¼ˆå¦‚ HandBrakeã€FFmpegï¼‰</li>
                    <li>ä½¿ç”¨æœ¬å·¥å…·çš„ä¼ºæœå™¨ç‰ˆæœ¬</li>
                </ul>
            </div>
            
            <div class="upload-area" id="videoUploadArea">
                <div class="upload-icon">ğŸ¬</div>
                <h3>å½±ç‰‡å£“ç¸®ï¼ˆåŸºæœ¬åŠŸèƒ½ï¼‰</h3>
                <p>å¯ä»¥èª¿æ•´å½±ç‰‡å“è³ªä»¥æ¸›å°‘æª”æ¡ˆå¤§å°</p>
                <button class="btn">é¸æ“‡å½±ç‰‡</button>
                <input type="file" class="file-input" id="videoInput" accept="video/*">
            </div>
        </div>
        
        <!-- éŸ³è¨Šè½‰æ› -->
        <div class="tab-content" id="audio">
            <div class="info-box">
                <h4>âš ï¸ ç€è¦½å™¨é™åˆ¶</h4>
                <p>ç”±æ–¼ç€è¦½å™¨å®‰å…¨é™åˆ¶ï¼ŒéŸ³è¨Šè½‰æ›åŠŸèƒ½æœ‰é™ã€‚</p>
                <p>å»ºè­°ä½¿ç”¨ï¼š</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ç·šä¸Šæœå‹™ï¼ˆå¦‚ Online-Convertã€Zamzarï¼‰</li>
                    <li>å°ˆæ¥­è»Ÿé«”ï¼ˆå¦‚ Audacityã€FFmpegï¼‰</li>
                </ul>
            </div>
            
            <div class="upload-area" id="audioUploadArea">
                <div class="upload-icon">ğŸµ</div>
                <h3>éŸ³è¨Šè™•ç†ï¼ˆåŸºæœ¬åŠŸèƒ½ï¼‰</h3>
                <p>å¯ä»¥èª¿æ•´éŸ³é‡å’Œç°¡å–®è™•ç†</p>
                <button class="btn">é¸æ“‡éŸ³è¨Š</button>
                <input type="file" class="file-input" id="audioInput" accept="audio/*">
            </div>
        </div>
    </div>
    
    <script>
        // æª”æ¡ˆè™•ç†ç›¸é—œè®Šæ•¸
        let selectedFiles = {
            image: [],
            pdf: [],
            video: null,
            audio: null
        };
        
        // Tab åˆ‡æ›
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // ç§»é™¤æ‰€æœ‰ active é¡
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // æ·»åŠ  active é¡åˆ°ç•¶å‰ tab
                tab.classList.add('active');
                const tabId = tab.dataset.tab;
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // åœ–ç‰‡ä¸Šå‚³è™•ç†
        const imageUploadArea = document.getElementById('imageUploadArea');
        const imageInput = document.getElementById('imageInput');
        const imageFileList = document.getElementById('imageFileList');
        const imageOptions = document.getElementById('imageOptions');
        
        imageUploadArea.addEventListener('click', () => imageInput.click());
        
        imageUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            imageUploadArea.classList.add('dragover');
        });
        
        imageUploadArea.addEventListener('dragleave', () => {
            imageUploadArea.classList.remove('dragover');
        });
        
        imageUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            imageUploadArea.classList.remove('dragover');
            handleImageFiles(e.dataTransfer.files);
        });
        
        imageInput.addEventListener('change', (e) => {
            handleImageFiles(e.target.files);
        });
        
        function handleImageFiles(files) {
            selectedFiles.image = Array.from(files);
            displayImageFiles();
            imageOptions.style.display = 'block';
        }
        
        function displayImageFiles() {
            imageFileList.innerHTML = '';
            selectedFiles.image.forEach((file, index) => {
                const item = document.createElement('div');
                item.className = 'file-item';
                item.innerHTML = `
                    <span>${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)</span>
                    <button class="remove-btn" onclick="removeImageFile(${index})">ç§»é™¤</button>
                `;
                imageFileList.appendChild(item);
            });
        }
        
        function removeImageFile(index) {
            selectedFiles.image.splice(index, 1);
            displayImageFiles();
            if (selectedFiles.image.length === 0) {
                imageOptions.style.display = 'none';
            }
        }
        
        // å“è³ªæ»‘æ¡¿
        const imageQuality = document.getElementById('imageQuality');
        const qualityValue = document.getElementById('qualityValue');
        imageQuality.addEventListener('input', () => {
            qualityValue.textContent = imageQuality.value;
        });
        
        // èª¿æ•´å¤§å°é¸é …
        const imageResize = document.getElementById('imageResize');
        const customSize = document.getElementById('customSize');
        imageResize.addEventListener('change', () => {
            customSize.style.display = imageResize.value === 'custom' ? 'block' : 'none';
        });
        
        // åœ–ç‰‡è½‰æ›
        document.getElementById('convertImage').addEventListener('click', async () => {
            if (selectedFiles.image.length === 0) {
                alert('è«‹é¸æ“‡åœ–ç‰‡æª”æ¡ˆ');
                return;
            }
            
            const format = document.getElementById('imageFormat').value;
            const quality = parseInt(document.getElementById('imageQuality').value) / 100;
            const resize = document.getElementById('imageResize').value;
            
            const imageProgress = document.getElementById('imageProgress');
            const imageProgressFill = document.getElementById('imageProgressFill');
            const imageResult = document.getElementById('imageResult');
            const imageDownloads = document.getElementById('imageDownloads');
            
            imageProgress.classList.add('show');
            imageResult.classList.remove('show');
            imageDownloads.innerHTML = '';
            
            for (let i = 0; i < selectedFiles.image.length; i++) {
                const file = selectedFiles.image[i];
                const progress = ((i + 1) / selectedFiles.image.length) * 100;
                imageProgressFill.style.width = progress + '%';
                
                try {
                    const convertedBlob = await convertImage(file, format, quality, resize);
                    const url = URL.createObjectURL(convertedBlob);
                    const fileName = file.name.replace(/\.[^/.]+$/, '') + '.' + format;
                    
                    const downloadLink = document.createElement('a');
                    downloadLink.href = url;
                    downloadLink.download = fileName;
                    downloadLink.className = 'download-btn';
                    downloadLink.textContent = `ä¸‹è¼‰ ${fileName}`;
                    downloadLink.style.marginRight = '10px';
                    imageDownloads.appendChild(downloadLink);
                } catch (error) {
                    console.error('è½‰æ›å¤±æ•—:', error);
                    alert(`è½‰æ› ${file.name} å¤±æ•—: ${error.message}`);
                }
            }
            
            imageProgress.classList.remove('show');
            imageResult.classList.add('show');
        });
        
        async function convertImage(file, format, quality, resizeOption) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const img = new Image();
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        
                        let width = img.width;
                        let height = img.height;
                        
                        // è™•ç†èª¿æ•´å¤§å°
                        if (resizeOption !== 'original') {
                            if (resizeOption === 'custom') {
                                const customWidth = document.getElementById('customWidth').value;
                                const customHeight = document.getElementById('customHeight').value;
                                if (customWidth) {
                                    width = parseInt(customWidth);
                                    if (!customHeight) {
                                        height = (width / img.width) * img.height;
                                    }
                                }
                                if (customHeight) {
                                    height = parseInt(customHeight);
                                    if (!customWidth) {
                                        width = (height / img.height) * img.width;
                                    }
                                }
                            } else {
                                const scale = parseInt(resizeOption) / 100;
                                width = img.width * scale;
                                height = img.height * scale;
                            }
                        }
                        
                        canvas.width = width;
                        canvas.height = height;
                        ctx.drawImage(img, 0, 0, width, height);
                        
                        canvas.toBlob((blob) => {
                            if (blob) {
                                resolve(blob);
                            } else {
                                reject(new Error('è½‰æ›å¤±æ•—'));
                            }
                        }, `image/${format}`, quality);
                    };
                    img.onerror = () => reject(new Error('åœ–ç‰‡è¼‰å…¥å¤±æ•—'));
                    img.src = e.target.result;
                };
                reader.onerror = () => reject(new Error('æª”æ¡ˆè®€å–å¤±æ•—'));
                reader.readAsDataURL(file);
            });
        }
        
        // PDF è™•ç†
        const pdfUploadArea = document.getElementById('pdfUploadArea');
        const pdfInput = document.getElementById('pdfInput');
        const pdfFileList = document.getElementById('pdfFileList');
        const pdfOptions = document.getElementById('pdfOptions');
        
        pdfUploadArea.addEventListener('click', () => pdfInput.click());
        
        pdfUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            pdfUploadArea.classList.add('dragover');
        });
        
        pdfUploadArea.addEventListener('dragleave', () => {
            pdfUploadArea.classList.remove('dragover');
        });
        
        pdfUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            pdfUploadArea.classList.remove('dragover');
            handlePdfFiles(e.dataTransfer.files);
        });
        
        pdfInput.addEventListener('change', (e) => {
            handlePdfFiles(e.target.files);
        });
        
        function handlePdfFiles(files) {
            selectedFiles.pdf = Array.from(files);
            displayPdfFiles();
            pdfOptions.style.display = 'block';
        }
        
        function displayPdfFiles() {
            pdfFileList.innerHTML = '';
            selectedFiles.pdf.forEach((file, index) => {
                const item = document.createElement('div');
                item.className = 'file-item';
                item.innerHTML = `
                    <span>${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)</span>
                    <button class="remove-btn" onclick="removePdfFile(${index})">ç§»é™¤</button>
                `;
                pdfFileList.appendChild(item);
            });
        }
        
        function removePdfFile(index) {
            selectedFiles.pdf.splice(index, 1);
            displayPdfFiles();
            if (selectedFiles.pdf.length === 0) {
                pdfOptions.style.display = 'none';
            }
        }
        
        // PDF è½‰æ›æŒ‰éˆ•
        document.getElementById('convertPdf').addEventListener('click', () => {
            alert('PDFè½‰æ›åŠŸèƒ½éœ€è¦ä½¿ç”¨å¤–éƒ¨å‡½å¼åº«ã€‚\n\nå»ºè­°ä½¿ç”¨ï¼š\n1. SmallPDF (smallpdf.com)\n2. ILovePDF (ilovepdf.com)\n3. Adobe Acrobat Online');
        });
        
        // å½±ç‰‡å’ŒéŸ³è¨Šè™•ç†æç¤º
        const videoUploadArea = document.getElementById('videoUploadArea');
        const videoInput = document.getElementById('videoInput');
        
        videoUploadArea.addEventListener('click', () => {
            alert('å½±ç‰‡è½‰æ›éœ€è¦ä¼ºæœå™¨æ”¯æ´ã€‚\n\næ¨è–¦ä½¿ç”¨ï¼š\n1. HandBrake (å…è²»é–‹æº)\n2. CloudConvert (ç·šä¸Šæœå‹™)\n3. FFmpeg (å‘½ä»¤åˆ—å·¥å…·)');
        });
        
        const audioUploadArea = document.getElementById('audioUploadArea');
        const audioInput = document.getElementById('audioInput');
        
        audioUploadArea.addEventListener('click', () => {
            alert('éŸ³è¨Šè½‰æ›éœ€è¦ä¼ºæœå™¨æ”¯æ´ã€‚\n\næ¨è–¦ä½¿ç”¨ï¼š\n1. Audacity (å…è²»é–‹æº)\n2. Online-Convert (ç·šä¸Šæœå‹™)\n3. FFmpeg (å‘½ä»¤åˆ—å·¥å…·)');
        });
    </script>
</body>
</html>